/*! 
 Build based on gin-vue-admin 
 Time : 1671085367000 */
!function(){function e(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(c){return void n(c)}u.done?t(l):Promise.resolve(l).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=t.apply(n,r);function u(t){e(i,o,a,u,l,"next",t)}function l(t){e(i,o,a,u,l,"throw",t)}u(void 0)}))}}function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./gin-vue-admin-agreement-legacy.16710853670002.js","./gin-vue-admin-vendor-legacy.1671085367000.js","../gva/gin-vue-admin-index-legacy.1671085367000.js"],(function(e){"use strict";var r,o,a,i,u,l,c,s,d,f,p,m,g,v,b,y,h,_,k,w,j,x,O,C;return{setters:[function(e){r=e.f,o=e.c,a=e.u},function(e){i=e.p,u=e.w,l=e.Q,c=e.$,s=e.a0,d=e.a1,f=e.o,p=e.j,m=e.q,g=e.x,v=e.C,b=e.v,y=e.J,h=e.u,_=e.r,k=e.i,w=e.k,j=e.t,x=e.A,O=e.d},function(e){C=e.u}],execute:function(){var S=Object.defineProperty,A=Object.defineProperties,V=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,T=function(e,t,n){return t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},I=function(e){return e+"_"+(Date.now()+Math.floor(1e6*Math.random()))},R=function(){var e="undefined"!=typeof window?window:global;return e&&"tinymce"in e?e.tinymce:null};function z(e){return e?e.getContent():""}function L(e,t){t&&t.setContent(e)}function q(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&e.mode.set(t?"readonly":"design")}function N(e,t,n,r,o){var a,i,u=e||{},l=u.images_upload_url,c=u.images_upload_credentials,s=u.custom_images_upload_header,d=u.custom_images_upload_param,f=u.custom_images_upload_callback;(a=new XMLHttpRequest).withCredentials=!!c,a.open("POST",l||""),s&&Object.keys(s).forEach((function(e){a.setRequestHeader(e,s[e])})),a.upload.onprogress=function(e){o(e.loaded/e.total*100)},a.onload=function(){if(403!==a.status)if(a.status<200||a.status>=300)r("HTTP Error (custom): status "+a.status);else{var e=JSON.parse(a.responseText);if(e){var t="function"==typeof f?f(e):e.location;t?n(t):r("Failed Path (custom): location image path is error/empty")}else r("Invalid JSON (custom): "+a.responseText)}else r("HTTP Error (custom): status "+a.status,{remove:!0})},a.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+a.status)},(i=new FormData).append("file",t.blob(),t.filename()),d&&Object.keys(d).forEach((function(e){i.append(e,d[e])})),a.send(i)}var H=function(){var e={status:{},loadedCallbacks:{}},t=function(t){e.loadedCallbacks[t]&&(e.loadedCallbacks[t].forEach((function(e){"function"==typeof e.handler&&e.handler.call(e.scope)})),e.loadedCallbacks[t]=void 0)};return{load:function(n,r,o){r&&(e.loadedCallbacks[n]||(e.loadedCallbacks[n]=[]),e.loadedCallbacks[n].push({handler:r,scope:o||void 0})),"LOADED"!==e.status[n]?"LOADING"!==e.status[n]&&(e.status[n]="LOADING",function(e,t){var n=document.createElement("script");n.id=I("tiny-script"),n.type="application/javascript",n.src=e,n.referrerPolicy="origin";n.addEventListener("load",(function e(){n.removeEventListener("load",e),t()})),(document.head||document.body).appendChild(n)}(n,(function(){e.status[n]="LOADED",t(n)}))):t(n)}}}(),M=["id"],U={key:0},F=Object.assign({name:"Vue3Tinymce"},{props:{modelValue:String,setting:{type:Object,default:function(){return{}}},setup:Function,disabled:Boolean,scriptSrc:String,debug:Boolean},emits:["update:modelValue","init","change"],setup:function(e,t){var r=t.expose,o=t.emit,a=e,h=!0,_=i({editor:null,id:I("tinymce"),err:""}),k=function(){var e;return String(null!=(e=a.modelValue)?e:"")},w=function(e,t,n){a.debug&&console.log("来自：".concat(e.type," | \n ").concat(t," \n ").concat(n||"--"))},j=function(){if(null!==R()){a.debug&&console.warn("vue3-tinymce 进入debug模式");var e,t,r=(e=function(e,t){for(var r in t||(t={}))E.call(t,r)&&T(e,r,t[r]);if(D){var o,a=n(D(t));try{for(a.s();!(o=a.n()).done;){r=o.value;P.call(t,r)&&T(e,r,t[r])}}catch(i){a.e(i)}finally{a.f()}}return e}({},a.setting),t={selector:"#"+_.id,setup:function(e){a.setup&&a.setup(e),e.on("init",(function(){return function(e){_.editor=e,L(k(),e),a.disabled&&"readonly"!==e.mode.get()&&q(e),e.on("change input undo redo",(function(t){!function(e,t){t||(t=_.editor);var n=z(t);w(e,n),o("update:modelValue",n),o("change",n)}(t,e)})),o("init",e)}(e)}))}},A(e,V(t)));a.setting.custom_images_upload&&(r.images_upload_handler=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];N.apply(null,[a.setting||{}].concat(t))}),R().init(r),h=!1}else _.err="tinymce is null"};return u((function(){return a.modelValue}),(function(e,t){if(_.editor&&_.editor.initialized&&t!==e&&e!==z(_.editor)){if(w({type:"propsChanged to setContent"},e,t),null===e)return function(e,t){if(t){if(t.resetContent)return t.resetContent("");t.setContent(""),t.setDirty(!1),t.undoManager.clear()}}(0,_.editor);L(k(),_.editor)}})),u((function(){return a.disabled}),(function(e){_.editor&&_.editor.initialized&&q(_.editor,e)})),r({id:_.id,editor:_.editor}),l((function(){var e;if(null===R()){var t=null!=(e=a.scriptSrc)?e:"https://cdn.bootcdn.net/ajax/libs/tinymce/5.8.2/tinymce.min.js";H.load(t,j)}else j()})),c((function(){h||j()})),s((function(){_.editor&&_.editor.remove()})),d((function(){_.editor&&_.editor.remove()})),function(e,t){return f(),p(y,null,[m("div",{id:g(_).id,class:"tiny-textarea"},null,8,M),g(_).err?(f(),p("p",U,v(g(_).err),1)):b("",!0)],64)}}});F.install=function(e){e.component("Vue3Tinymce",F)};var J={class:"gva-search-box"},X=x("立即保存"),B=x("取消"),G={name:"Agreement"};e("default",Object.assign(G,{setup:function(e){var n=h(),i=_({title:"",contents:""}),u=C(),l=_("");l.value="create";var c=function(){var e=t(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({ID:t});case 2:n=e.sent,console.log("详情",n),0===n.code&&(i.value=n.data.reagreement,v.value.content=n.data.reagreement.contents);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=n.currentRoute.value.query.id;console.log("id",s),s&&(l.value="update",c(s)),console.log("表单信息",i.value);var d=function(){var e=t(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.value.contents=v.value.content,console.log(i.value),e.t0=l.value,e.next="create"===e.t0?5:"update"===e.t0?9:13;break;case 5:return e.next=7,o(i.value);case 7:return t=e.sent,e.abrupt("break",17);case 9:return e.next=11,a(i.value);case 11:return t=e.sent,e.abrupt("break",17);case 13:return e.next=15,o(i.value);case 15:return t=e.sent,e.abrupt("break",17);case 17:0===t.code&&(O({type:"success",message:"创建/更改成功"}),n.push({name:"agreement"}));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=_({content:"",setting:{height:560,toolbar:"undo redo | fullscreen | formatselect alignleft aligncenter alignright alignjustify | link unlink | numlist bullist | image media table | fontsizeselect forecolor backcolor | bold italic underline strikethrough | indent outdent | superscript subscript | removeformat |",toolbar_drawer:"sliding",quickbars_selection_toolbar:"removeformat | bold italic underline strikethrough | fontsizeselect forecolor backcolor",plugins:"link image media table lists fullscreen quickbars",fontsize_formats:"12px 14px 16px 18px",default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,custom_images_upload:!0,images_upload_url:"/api/fileUploadAndDownload/upload",custom_images_upload_callback:function(e){return"/api/"+e.data.file.url},custom_images_upload_header:{"X-Token":u.token},language:"zh_CN",language_url:"https://unpkg.com/@jsdawn/vue3-tinymce@1.1.6/dist/tinymce/langs/zh_CN.js"}});return function(e,t){var n=k("el-input"),r=k("el-form-item"),o=k("el-button"),a=k("el-form");return f(),p("div",null,[m("div",J,[w(a,{model:i.value,"label-width":"80px"},{default:j((function(){return[w(r,{label:"标题"},{default:j((function(){return[w(n,{modelValue:i.value.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.value.title=e}),clearable:"",placeholder:"请输入"},null,8,["modelValue"])]})),_:1}),w(r,{label:"内容"},{default:j((function(){return[w(g(F),{modelValue:v.value.content,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.value.content=e}),setting:v.value.setting},null,8,["modelValue","setting"])]})),_:1}),w(r,null,{default:j((function(){return[w(o,{type:"primary",onClick:d},{default:j((function(){return[X]})),_:1}),w(o,null,{default:j((function(){return[B]})),_:1})]})),_:1})]})),_:1},8,["model"])])])}}}))}}}))}();
