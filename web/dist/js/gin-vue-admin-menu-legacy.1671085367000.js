/*! 
 Build based on gin-vue-admin 
 Time : 1671085367000 */
!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function t(t){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,l,a,u,r){try{var o=e[u](r),i=o.value}catch(c){return void n(c)}o.done?t(i):Promise.resolve(i).then(l,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,u){var r=e.apply(t,n);function o(e){l(r,a,u,o,i,"next",e)}function i(e){l(r,a,u,o,i,"throw",e)}o(void 0)}))}}var u=document.createElement("style");u.innerHTML=".warning[data-v-a3bb2a52]{color:#dc143c}.icon-column[data-v-a3bb2a52]{display:flex;align-items:center}.icon-column .el-icon[data-v-a3bb2a52]{margin-right:8px}\n",document.head.appendChild(u),System.register(["../gva/gin-vue-admin-index-legacy.1671085367000.js","./gin-vue-admin-icon-legacy.1671085367000.js","./gin-vue-admin-warningBar-legacy.1671085367000.js","./gin-vue-admin-authorityBtn-legacy.1671085367000.js","./gin-vue-admin-vendor-legacy.1671085367000.js"],(function(e){"use strict";var n,l,u,r,o,i,c,d,f,p,s,m,v,h,b,g,y,w,V,k,_,x,I,D,U,C,j;return{setters:[function(e){n=e._,l=e.g,u=e.k,r=e.l,o=e.m,i=e.n},function(e){c=e.default},function(e){d=e.w},function(e){f=e.c},function(e){p=e.p,s=e.r,m=e.i,v=e.o,h=e.j,b=e.q,g=e.k,y=e.t,w=e.C,V=e.H,k=e.I,_=e.v,x=e.x,I=e.A,D=e.F,U=e.G,C=e.e,j=e.d}],execute:function(){var O=function(e){return D("data-v-a3bb2a52"),e=e(),U(),e},z={class:"gva-table-box"},P={class:"gva-btn-list"},R=I("新增根菜单"),B={key:0,class:"icon-column"},S=I("添加子菜单"),q=I("编辑"),A=I("删除"),T={style:{display:"inline-flex"}},M=I(" 路由Path "),E=I("添加参数"),N=O((function(){return b("span",{style:{"font-size":"12px","margin-right":"12px"}},"如果菜单包含子菜单，请创建router-view二级路由页面或者",-1)})),F=I("点我设置"),H=I("新增菜单参数"),$=I("删除"),G=I("新增可控按钮"),K=I("删除"),L={class:"dialog-footer"},J=I("取 消"),Q=I("确 定"),W={name:"Menus"};e("default",n(Object.assign(W,{setup:function(e){var n=p({path:[{required:!0,message:"请输入菜单name",trigger:"blur"}],component:[{required:!0,message:"请输入文件路径",trigger:"blur"}],"meta.title":[{required:!0,message:"请输入菜单展示名称",trigger:"blur"}]}),I=s(1),D=s(0),U=s(999),O=s([]),W=s({}),X=function(){var e=a(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t({page:I.value,pageSize:U.value},W.value));case 2:0===(n=e.sent).code&&(O.value=n.data.list,D.value=n.data.total,I.value=n.data.page,U.value=n.data.pageSize);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();X();var Y=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(l=t[n]).ID){e.next=4;break}return t.splice(n,1),e.abrupt("return");case 4:return e.next=6,f({id:l.ID});case 6:if(0!==e.sent.code){e.next=10;break}return t.splice(n,1),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=s({ID:0,path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:"",defaultMenu:!1,closeTab:!1,keepAlive:!1},parameters:[],menuBtn:[]}),ee=function(){Z.value.path=Z.value.name},te=function(e){ae(),e()},ne=s(null),le=s(!1),ae=function(){le.value=!1,ne.value.resetFields(),Z.value={ID:0,path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:"",defaultMenu:!1,keepAlive:""}}},ue=s(!1),re=function(){ae(),ue.value=!1},oe=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne.value.validate(function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!fe.value){e.next=7;break}return e.next=4,r(Z.value);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,o(Z.value);case 9:n=e.sent;case 10:0===n.code&&(j({type:"success",message:fe.value?"编辑成功":"添加成功!"}),X()),ae(),ue.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=s([{ID:"0",title:"根菜单"}]),ce=function(){ie.value=[{ID:"0",title:"根目录"}],de(O.value,ie.value,!1)},de=function e(t,n,l){t&&t.forEach((function(t){if(t.children&&t.children.length){var a={title:t.meta.title,ID:String(t.ID),disabled:l||t.ID===Z.value.ID,children:[]};e(t.children,a.children,l||t.ID===Z.value.ID),n.push(a)}else{var u={title:t.meta.title,ID:String(t.ID),disabled:l||t.ID===Z.value.ID};n.push(u)}}))},fe=s(!1),pe=s("新增菜单"),se=function(e){pe.value="新增菜单",Z.value.parentId=String(e),fe.value=!1,ce(),ue.value=!0},me=function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe.value="编辑菜单",e.next=3,i({id:t});case 3:n=e.sent,Z.value=n.data.menu,fe.value=!0,ce(),ue.value=!0;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(e,t){var l=m("el-button"),r=m("el-table-column"),o=m("el-icon"),i=m("el-table"),f=m("el-input"),p=m("el-form-item"),s=m("el-checkbox"),D=m("el-option"),U=m("el-select"),W=m("el-cascader"),ae=m("el-form"),ce=m("el-dialog");return v(),h("div",null,[b("div",z,[b("div",P,[g(l,{size:"small",type:"primary",icon:"plus",onClick:t[0]||(t[0]=function(e){return se("0")})},{default:y((function(){return[R]})),_:1})]),g(i,{data:O.value,"row-key":"ID"},{default:y((function(){return[g(r,{align:"left",label:"ID","min-width":"100",prop:"ID"}),g(r,{align:"left",label:"路由Name","show-overflow-tooltip":"","min-width":"160",prop:"name"}),g(r,{align:"left",label:"路由Path","show-overflow-tooltip":"","min-width":"160",prop:"path"}),g(r,{align:"left",label:"是否隐藏","min-width":"100",prop:"hidden"},{default:y((function(e){return[b("span",null,w(e.row.hidden?"隐藏":"显示"),1)]})),_:1}),g(r,{align:"left",label:"父节点","min-width":"90",prop:"parentId"}),g(r,{align:"left",label:"排序","min-width":"70",prop:"sort"}),g(r,{align:"left",label:"文件路径","min-width":"360",prop:"component"}),g(r,{align:"left",label:"展示名称","min-width":"120",prop:"authorityName"},{default:y((function(e){return[b("span",null,w(e.row.meta.title),1)]})),_:1}),g(r,{align:"left",label:"图标","min-width":"140",prop:"authorityName"},{default:y((function(e){return[e.row.meta.icon?(v(),h("div",B,[g(o,null,{default:y((function(){return[(v(),V(k(e.row.meta.icon)))]})),_:2},1024),b("span",null,w(e.row.meta.icon),1)])):_("",!0)]})),_:1}),g(r,{align:"left",fixed:"right",label:"操作",width:"300"},{default:y((function(e){return[g(l,{size:"small",type:"text",icon:"plus",onClick:function(t){return se(e.row.ID)}},{default:y((function(){return[S]})),_:2},1032,["onClick"]),g(l,{size:"small",type:"text",icon:"edit",onClick:function(t){return me(e.row.ID)}},{default:y((function(){return[q]})),_:2},1032,["onClick"]),g(l,{size:"small",type:"text",icon:"delete",onClick:function(t){return n=e.row.ID,void C.confirm("此操作将永久删除所有角色下该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({ID:n});case 2:0===e.sent.code&&(j({type:"success",message:"删除成功!"}),1===O.value.length&&I.value>1&&I.value--,X());case 4:case"end":return e.stop()}}),e)})))).catch((function(){j({type:"info",message:"已取消删除"})}));var n}},{default:y((function(){return[A]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]),g(ce,{modelValue:ue.value,"onUpdate:modelValue":t[14]||(t[14]=function(e){return ue.value=e}),"before-close":te,title:pe.value},{footer:y((function(){return[b("div",L,[g(l,{size:"small",onClick:re},{default:y((function(){return[J]})),_:1}),g(l,{size:"small",type:"primary",onClick:oe},{default:y((function(){return[Q]})),_:1})])]})),default:y((function(){return[g(d,{title:"新增菜单，需要在角色管理内配置权限才可使用"}),ue.value?(v(),V(ae,{key:0,ref_key:"menuForm",ref:ne,inline:!0,model:Z.value,rules:x(n),"label-position":"top","label-width":"85px"},{default:y((function(){return[g(p,{label:"路由Name",prop:"path",style:{width:"30%"}},{default:y((function(){return[g(f,{modelValue:Z.value.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Z.value.name=e}),autocomplete:"off",placeholder:"唯一英文字符串",onChange:ee},null,8,["modelValue"])]})),_:1}),g(p,{prop:"path",style:{width:"30%"}},{label:y((function(){return[b("div",T,[M,g(s,{modelValue:le.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return le.value=e}),style:{float:"right","margin-left":"20px"}},{default:y((function(){return[E]})),_:1},8,["modelValue"])])]})),default:y((function(){return[g(f,{modelValue:Z.value.path,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Z.value.path=e}),disabled:!le.value,autocomplete:"off",placeholder:"建议只在后方拼接参数"},null,8,["modelValue","disabled"])]})),_:1}),g(p,{label:"是否隐藏",style:{width:"30%"}},{default:y((function(){return[g(U,{modelValue:Z.value.hidden,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Z.value.hidden=e}),placeholder:"是否在列表隐藏"},{default:y((function(){return[g(D,{value:!1,label:"否"}),g(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1}),g(p,{label:"父节点ID",style:{width:"30%"}},{default:y((function(){return[g(W,{modelValue:Z.value.parentId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Z.value.parentId=e}),style:{width:"100%"},disabled:!fe.value,options:ie.value,props:{checkStrictly:!0,label:"title",value:"ID",disabled:"disabled",emitPath:!1},"show-all-levels":!1,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1}),g(p,{label:"文件路径",prop:"component",style:{width:"60%"}},{default:y((function(){return[g(f,{modelValue:Z.value.component,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Z.value.component=e}),autocomplete:"off"},null,8,["modelValue"]),N,g(l,{style:{"margin-top":"4px"},size:"small",onClick:t[7]||(t[7]=function(e){return Z.value.component="view/routerHolder.vue"})},{default:y((function(){return[F]})),_:1})]})),_:1}),g(p,{label:"展示名称",prop:"meta.title",style:{width:"30%"}},{default:y((function(){return[g(f,{modelValue:Z.value.meta.title,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Z.value.meta.title=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),g(p,{label:"图标",prop:"meta.icon",style:{width:"30%"}},{default:y((function(){return[g(c,{meta:Z.value.meta,style:{width:"100%"}},null,8,["meta"])]})),_:1}),g(p,{label:"排序标记",prop:"sort",style:{width:"30%"}},{default:y((function(){return[g(f,{modelValue:Z.value.sort,"onUpdate:modelValue":t[9]||(t[9]=function(e){return Z.value.sort=e}),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),g(p,{label:"KeepAlive",prop:"meta.keepAlive",style:{width:"30%"}},{default:y((function(){return[g(U,{modelValue:Z.value.meta.keepAlive,"onUpdate:modelValue":t[10]||(t[10]=function(e){return Z.value.meta.keepAlive=e}),style:{width:"100%"},placeholder:"是否keepAlive缓存页面"},{default:y((function(){return[g(D,{value:!1,label:"否"}),g(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1}),g(p,{label:"CloseTab",prop:"meta.closeTab",style:{width:"30%"}},{default:y((function(){return[g(U,{modelValue:Z.value.meta.closeTab,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Z.value.meta.closeTab=e}),style:{width:"100%"},placeholder:"是否自动关闭tab"},{default:y((function(){return[g(D,{value:!1,label:"否"}),g(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])):_("",!0),b("div",null,[g(l,{size:"small",type:"primary",icon:"edit",onClick:t[12]||(t[12]=function(e){return function(e){e.parameters||(e.parameters=[]),e.parameters.push({type:"query",key:"",value:""})}(Z.value)})},{default:y((function(){return[H]})),_:1}),g(i,{data:Z.value.parameters,style:{width:"100%"}},{default:y((function(){return[g(r,{align:"left",prop:"type",label:"参数类型",width:"180"},{default:y((function(e){return[g(U,{modelValue:e.row.type,"onUpdate:modelValue":function(t){return e.row.type=t},placeholder:"请选择"},{default:y((function(){return[g(D,{key:"query",value:"query",label:"query"}),g(D,{key:"params",value:"params",label:"params"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),g(r,{align:"left",prop:"key",label:"参数key",width:"180"},{default:y((function(e){return[b("div",null,[g(f,{modelValue:e.row.key,"onUpdate:modelValue":function(t){return e.row.key=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),g(r,{align:"left",prop:"value",label:"参数值"},{default:y((function(e){return[b("div",null,[g(f,{modelValue:e.row.value,"onUpdate:modelValue":function(t){return e.row.value=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),g(r,{align:"left"},{default:y((function(e){return[b("div",null,[g(l,{type:"danger",size:"small",icon:"delete",onClick:function(t){return n=Z.value.parameters,l=e.$index,void n.splice(l,1);var n,l}},{default:y((function(){return[$]})),_:2},1032,["onClick"])])]})),_:1})]})),_:1},8,["data"]),g(l,{style:{"margin-top":"12px"},size:"small",type:"primary",icon:"edit",onClick:t[13]||(t[13]=function(e){return function(e){console.log(e),e.menuBtn||(e.menuBtn=[]),e.menuBtn.push({name:"",desc:""})}(Z.value)})},{default:y((function(){return[G]})),_:1}),g(i,{data:Z.value.menuBtn,style:{width:"100%"}},{default:y((function(){return[g(r,{align:"left",prop:"name",label:"按钮名称",width:"180"},{default:y((function(e){return[b("div",null,[g(f,{modelValue:e.row.name,"onUpdate:modelValue":function(t){return e.row.name=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),g(r,{align:"left",prop:"name",label:"备注",width:"180"},{default:y((function(e){return[b("div",null,[g(f,{modelValue:e.row.desc,"onUpdate:modelValue":function(t){return e.row.desc=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),g(r,{align:"left"},{default:y((function(e){return[b("div",null,[g(l,{type:"danger",size:"small",icon:"delete",onClick:function(t){return Y(Z.value.menuBtn,e.$index)}},{default:y((function(){return[K]})),_:2},1032,["onClick"])])]})),_:1})]})),_:1},8,["data"])])]})),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-a3bb2a52"]]))}}}))}();
