/*! 
 Build based on gin-vue-admin 
 Time : 1671085367000 */
var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{g as d}from"./gin-vue-admin-minappUser.1671085367000.js";import{u as n,r,i,o as u,j as s,q as p,k as c,t as f,A as m,C as w}from"./gin-vue-admin-vendor.1671085367000.js";import"../gva/gin-vue-admin-index.1671085367000.js";const v={class:"gva-table-box"},h={class:"gva-search-box"},g=m("查询"),b={class:"gva-table-box"},y={class:"gva-table-box",style:{display:"flex"}},_=m(" 查看用户"),k=m(" 查看用户"),x=m(" 查看用户"),C=m(" 查看用户"),D={name:"UserStatistics"},S=Object.assign(D,{setup(e){const D=n(),S=r("addUserInfo"),Y=r("");var j=new Date,M=(new Date).getTime()-6048e5,T=new Date(M);T.getMonth(),T.getDate(),T=T.getFullYear()+"-"+(T.getMonth()>9?T.getMonth()+1:"0"+(T.getMonth()+1))+"-"+(T.getDate()>9?T.getDate():"0"+T.getDate()),console.log("开始时间 ",T);const O=r({start:T,end:function(e,t){let a;const l={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(let o in l)a=new RegExp("("+o+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?l[o]:l[o].padStart(a[1].length,"0")));return e}("YYYY-mm-dd",j),way:""}),U=e=>{console.log("数据",e),D.push({name:"userDetail",params:{id:e}})},V=(e,t)=>{D.push({name:t,params:{id:e}})},P=()=>{O.value.start=Y.value[0],O.value.end=Y.value[1],E()},L=[{text:"最近一周",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),console.log("最近一个周",t,e),[t,e]}},{text:"最近一个月",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"最近三个月",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}],F=(e,t)=>{O.value.way=S.value,E()},I=r({}),E=()=>{return e=this,n=null,r=function*(){const e=yield d(((e,d)=>{for(var n in d||(d={}))a.call(d,n)&&o(e,n,d[n]);if(t)for(var n of t(d))l.call(d,n)&&o(e,n,d[n]);return e})({},O.value));0===e.code&&(I.value=e.data.data)},new Promise(((t,a)=>{var l=e=>{try{d(r.next(e))}catch(t){a(t)}},o=e=>{try{d(r.throw(e))}catch(t){a(t)}},d=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,o);d((r=r.apply(e,n)).next())}));var e,n,r};return E(),(e,t)=>{const a=i("el-date-picker"),l=i("el-form-item"),o=i("el-button"),d=i("el-form"),n=i("el-card"),r=i("el-col"),D=i("el-row"),j=i("el-table-column"),M=i("el-table"),T=i("el-tab-pane"),E=i("el-tabs");return u(),s("div",null,[p("div",v,[c(E,{modelValue:S.value,"onUpdate:modelValue":t[1]||(t[1]=e=>S.value=e),class:"demo-tabs",onTabClick:F},{default:f((()=>[p("div",h,[c(d,{inline:!0,model:O.value,class:"demo-form-inline"},{default:f((()=>[c(l,{label:"日期范围"},{default:f((()=>[c(a,{modelValue:Y.value,"onUpdate:modelValue":t[0]||(t[0]=e=>Y.value=e),type:"daterange","unlink-panels":"","range-separator":"到","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD",shortcuts:L},null,8,["modelValue"])])),_:1}),c(l,null,{default:f((()=>[c(o,{size:"small",type:"primary",icon:"search",onClick:P},{default:f((()=>[g])),_:1})])),_:1})])),_:1},8,["model"])]),c(T,{label:"新增用户",name:"addUserInfo"},{default:f((()=>[p("div",b,[c(D,{gutter:12},{default:f((()=>[c(r,{span:8},{default:f((()=>[c(n,{shadow:"always"},{default:f((()=>[m(" 今日活跃用户："+w(I.value.active),1)])),_:1})])),_:1}),c(r,{span:8},{default:f((()=>[c(n,{shadow:"hover"},{default:f((()=>[m(" 用户总数："+w(I.value.all),1)])),_:1})])),_:1})])),_:1}),c(M,{data:I.value.list,style:{width:"100%"}},{default:f((()=>[c(j,{prop:"date",label:"日期",width:"280"}),c(j,{prop:"total",label:"用户数",width:"180"})])),_:1},8,["data"])])])),_:1}),c(T,{label:"用户排行",name:"userTop"},{default:f((()=>[p("div",y,[c(M,{data:I.value.buyList,style:{width:"100%"}},{default:f((()=>[c(j,{prop:"uid",label:"送送用户",width:"100"},{default:f((e=>[c(o,{type:"text",onClick:t=>U(e.row.uid)},{default:f((()=>[_])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"total",label:"订单数量",width:"80"},{default:f((e=>[c(o,{type:"text",onClick:t=>V(e.row.uid,"helpBuy")},{default:f((()=>[m(w(e.row.total),1)])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"money",label:"交易金额",width:"80"})])),_:1},8,["data"]),c(M,{data:I.value.workList,style:{width:"100%"}},{default:f((()=>[c(j,{prop:"uid",label:"帮帮用户",width:"100"},{default:f((e=>[c(o,{type:"text",onClick:t=>U(e.row.uid)},{default:f((()=>[k])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"total",label:"订单数量",width:"80"},{default:f((e=>[c(o,{type:"text",onClick:t=>V(e.row.uid,"helpWork")},{default:f((()=>[m(w(e.row.total),1)])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"money",label:"交易金额",width:"80"})])),_:1},8,["data"]),c(M,{data:I.value.repairList,style:{width:"100%"}},{default:f((()=>[c(j,{prop:"uid",label:"急急急用户",width:"100"},{default:f((e=>[c(o,{type:"text",onClick:t=>U(e.row.uid)},{default:f((()=>[x])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"total",label:"订单数量",width:"80"},{default:f((e=>[c(o,{type:"text",onClick:t=>V(e.row.uid,"helpRepair")},{default:f((()=>[m(w(e.row.total),1)])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"money",label:"交易金额",width:"80"})])),_:1},8,["data"]),c(M,{data:I.value.fetchList,style:{width:"100%"}},{default:f((()=>[c(j,{prop:"uid",label:"取取用户",width:"100"},{default:f((e=>[c(o,{type:"text",onClick:t=>U(e.row.uid)},{default:f((()=>[C])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"total",label:"订单数量",width:"80"},{default:f((e=>[c(o,{type:"text",onClick:t=>V(e.row.uid,"helpFetch")},{default:f((()=>[m(w(e.row.total),1)])),_:2},1032,["onClick"])])),_:1}),c(j,{prop:"money",label:"交易金额",width:"80"})])),_:1},8,["data"])])])),_:1})])),_:1},8,["modelValue"])])])}}});export{S as default};
