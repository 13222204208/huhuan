/*! 
 Build based on gin-vue-admin 
 Time : 1671085367000 */
var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,n=(e,l,a)=>new Promise(((t,i)=>{var n=e=>{try{s(a.next(e))}catch(l){i(l)}},u=e=>{try{s(a.throw(e))}catch(l){i(l)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,u);s((a=a.apply(e,l)).next())}));import{g as u,d as s,a as o,c as d,u as r}from"./gin-vue-admin-agreement.16710853670002.js";import{f as c,g as v}from"./gin-vue-admin-format.1671085367000.js";import{u as p,r as m,i as f,o as g,j as y,q as b,k as h,t as _,A as w,C as x,x as k,J as z,L as C,e as j,d as V,H as D}from"./gin-vue-admin-vendor.1671085367000.js";import"../gva/gin-vue-admin-index.1671085367000.js";import"./gin-vue-admin-date.1671085367000.js";import"./gin-vue-admin-dictionary.1671085367000.js";import"./gin-vue-admin-dictionary.16710853670002.js";import"./gin-vue-admin-sysDictionary.1671085367000.js";const I={class:"gva-search-box"},O=w("查询"),A=w("重置"),P={class:"gva-table-box"},S={class:"gva-btn-list"},U=w("新增"),T=b("p",null,"确定要删除吗？",-1),q={style:{"text-align":"right","margin-top":"8px"}},B=w("取消"),E=w("确定"),H=w("删除"),J=w("变更"),L=w("删除"),F={class:"gva-pagination"},G=b("div",{style:{"margin-left":"10px",width:"1000px"}},null,-1),K=b("br",null,null,-1),M={class:"dialog-footer"},N=w("取 消"),Q=w("确 定"),R={name:"Agreement"},W=Object.assign(R,{setup(e){const R=p(),W=m([]),X=m({title:"",contents:"",status:void 0}),Y=m(1),Z=m(0),$=m(10),ee=m([]),le=m({}),ae=()=>{le.value={}},te=()=>{Y.value=1,$.value=10,ue()},ie=e=>{$.value=e,ue()},ne=e=>{Y.value=e,ue()},ue=()=>n(this,null,(function*(){const e=yield u(((e,n)=>{for(var u in n||(n={}))a.call(n,u)&&i(e,u,n[u]);if(l)for(var u of l(n))t.call(n,u)&&i(e,u,n[u]);return e})({page:Y.value,pageSize:$.value},le.value));0===e.code&&(ee.value=e.data.list,Z.value=e.data.total,Y.value=e.data.page,$.value=e.data.pageSize)}));ue();(()=>{n(this,null,(function*(){W.value=yield v("int")}))})();const se=m([]),oe=e=>{se.value=e},de=m(!1),re=()=>n(this,null,(function*(){const e=[];if(0===se.value.length)return void V({type:"warning",message:"请选择要删除的数据"});se.value&&se.value.map((l=>{e.push(l.ID)}));0===(yield s({ids:e})).code&&(V({type:"success",message:"删除成功"}),ee.value.length===e.length&&Y.value>1&&Y.value--,de.value=!1,ue())})),ce=m(""),ve=e=>n(this,null,(function*(){console.log(e.ID),R.push({name:"createAgreement",query:{id:e.ID}})})),pe=e=>n(this,null,(function*(){0===(yield o({ID:e.ID})).code&&(V({type:"success",message:"删除成功"}),1===ee.value.length&&Y.value>1&&Y.value--,ue())})),me=m(!1),fe=()=>{me.value=!1,X.value={title:"",contents:"",status:void 0}},ge=()=>n(this,null,(function*(){let e;switch(ce.value){case"create":e=yield d(X.value);break;case"update":e=yield r(X.value);break;default:e=yield d(X.value)}0===e.code&&(V({type:"success",message:"创建/更改成功"}),fe(),ue())}));return(e,l)=>{const a=f("el-input"),t=f("el-form-item"),i=f("el-button"),n=f("el-form"),u=f("el-popover"),s=f("el-table-column"),o=f("el-table"),d=f("el-pagination"),r=f("el-option"),v=f("el-select"),p=f("el-dialog");return g(),y("div",null,[b("div",I,[h(n,{inline:!0,model:le.value,class:"demo-form-inline"},{default:_((()=>[h(t,{label:"状态"},{default:_((()=>[h(a,{modelValue:le.value.status,"onUpdate:modelValue":l[0]||(l[0]=e=>le.value.status=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),h(t,null,{default:_((()=>[h(i,{size:"small",type:"primary",icon:"search",onClick:te},{default:_((()=>[O])),_:1}),h(i,{size:"small",icon:"refresh",onClick:ae},{default:_((()=>[A])),_:1})])),_:1})])),_:1},8,["model"])]),b("div",P,[b("div",S,[h(i,{size:"small",type:"primary",icon:"plus",onClick:l[1]||(l[1]=e=>{R.push({name:"createAgreement"})})},{default:_((()=>[U])),_:1}),h(u,{visible:de.value,"onUpdate:visible":l[3]||(l[3]=e=>de.value=e),placement:"top",width:"160"},{reference:_((()=>[h(i,{icon:"delete",size:"small",style:{"margin-left":"10px"},disabled:!se.value.length},{default:_((()=>[H])),_:1},8,["disabled"])])),default:_((()=>[T,b("div",q,[h(i,{size:"small",type:"text",onClick:l[2]||(l[2]=e=>de.value=!1)},{default:_((()=>[B])),_:1}),h(i,{size:"small",type:"primary",onClick:re},{default:_((()=>[E])),_:1})])])),_:1},8,["visible"])]),h(o,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:ee.value,"row-key":"ID",onSelectionChange:oe},{default:_((()=>[h(s,{type:"selection",width:"55"}),h(s,{align:"left",label:"日期",width:"180"},{default:_((e=>[w(x(k(c)(e.row.CreatedAt)),1)])),_:1}),h(s,{align:"left",label:"标题",prop:"title",width:"120"}),h(s,{align:"left",label:"按钮组"},{default:_((e=>[h(i,{type:"text",icon:"edit",size:"small",class:"table-button",onClick:l=>ve(e.row)},{default:_((()=>[J])),_:2},1032,["onClick"]),h(i,{type:"text",icon:"delete",size:"small",onClick:l=>{return a=e.row,void j.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{pe(a)}));var a}},{default:_((()=>[L])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),b("div",F,[h(d,{layout:"total, sizes, prev, pager, next, jumper","current-page":Y.value,"page-size":$.value,"page-sizes":[10,30,50,100],total:Z.value,onCurrentChange:ne,onSizeChange:ie},null,8,["current-page","page-size","total"])])]),h(p,{modelValue:me.value,"onUpdate:modelValue":l[6]||(l[6]=e=>me.value=e),"before-close":fe,title:"弹窗操作"},{footer:_((()=>[b("div",M,[h(i,{size:"small",onClick:fe},{default:_((()=>[N])),_:1}),h(i,{size:"small",type:"primary",onClick:ge},{default:_((()=>[Q])),_:1})])])),default:_((()=>[h(n,{model:X.value,"label-position":"right","label-width":"80px"},{default:_((()=>[h(t,{label:"标题:"},{default:_((()=>[h(a,{modelValue:X.value.title,"onUpdate:modelValue":l[4]||(l[4]=e=>X.value.title=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),h(t,{label:"内容:"},{default:_((()=>[G,K])),_:1}),h(t,{label:"状态:"},{default:_((()=>[h(v,{modelValue:X.value.status,"onUpdate:modelValue":l[5]||(l[5]=e=>X.value.status=e),placeholder:"请选择",style:{width:"100%"},clearable:""},{default:_((()=>[(g(!0),y(z,null,C(W.value,((e,l)=>(g(),D(r,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{W as default};
